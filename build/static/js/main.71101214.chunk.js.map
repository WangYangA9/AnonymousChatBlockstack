{"version":3,"sources":["Profile.js","Signin.js","nav.js","App.js","index.js"],"names":["avatarFallbackImage","Profile","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","person","name","avatarUrl","_this$props","handleSignOut","userSession","isSignInPending","_react_16_13_1_react_default","a","createElement","className","id","src","alt","onClick","bind","setState","Person","loadUserData","profile","Component","Signin","handleSignIn","Account","value","Nav","isUserSignedIn","undefined","href","React","appConfig","AppConfig","UserSession","App","e","preventDefault","redirectToSignIn","signUserOut","window","location","origin","nav_Nav","renderNav","Profile_Profile","Signin_Signin","handlePendingSignIn","then","userData","history","replaceState","document","title","ReactDOM","render","BrowserRouter","App_App","getElementById"],"mappings":"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","file":"static/js/main.71101214.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport {\n  Person,\n} from 'blockstack';\n\nconst avatarFallbackImage = 'https://s3.amazonaws.com/onename/avatar-placeholder.png';\n\nexport default class Profile extends Component {\n  constructor(props) {\n  \tsuper(props);\n\n  \tthis.state = {\n  \t  person: {\n  \t  \tname() {\n          return 'Anonymous';\n        },\n  \t  \tavatarUrl() {\n  \t  \t  return avatarFallbackImage;\n  \t  \t},\n  \t  },\n  \t};\n  }\n\n  render() {\n    const { handleSignOut, userSession } = this.props;\n    const { person } = this.state;\n    return (\n      !userSession.isSignInPending() ?\n      <div className=\"panel-welcome\" id=\"section-2\">\n        <div className=\"avatar-section\">\n          <img src={ person.avatarUrl() ? person.avatarUrl() : avatarFallbackImage } className=\"img-rounded avatar\" id=\"avatar-image\" alt=\"\"/>\n        </div>\n        <h1>Hello, <span id=\"heading-name\">{ person.name() ? person.name() : 'Nameless Person' }</span>!</h1>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signout-button\"\n            onClick={ handleSignOut.bind(this) }\n          >\n            Logout\n          </button>\n        </p>\n      </div> : null\n    );\n  }\n\n  componentWillMount() {\n    const { userSession } = this.props;\n    this.setState({\n      person: new Person(userSession.loadUserData().profile),\n    });\n  }\n}\n","import React, { Component } from 'react';\n\nexport default class Signin extends Component {\n\n  render() {\n    const { handleSignIn } = this.props;\n\n    return (\n      <div className=\"panel-landing\" id=\"section-1\">\n        <h1 className=\"landing-heading\">Hello, Blockstack!</h1>\n        <p className=\"lead\">\n          <button\n            className=\"btn btn-primary btn-lg\"\n            id=\"signin-button\"\n            onClick={ handleSignIn.bind(this) }\n          >\n            Sign In with Blockstack\n          </button>\n        </p>\n      </div>\n    );\n  }\n}\n","import React from 'react';\r\nimport {\r\n  Person,\r\n} from 'blockstack';\r\nfunction Account(props) {\r\n    return (\r\n        <div \r\n          className=\"account\" \r\n          // onClick={() => props.onClick()}\r\n        >\r\n          {props.value}\r\n        </div>\r\n      );\r\n}\r\n\r\nexport default class Nav extends React.Component {\r\n  render (){\r\n    const { userSession } = this.props;\r\n    const person = userSession.isUserSignedIn() ? new Person(userSession.loadUserData().profile) : undefined\r\n    return (\r\n      <div>\r\n        <nav className=\"navbar navbar-dark bg-dark navbar-static-top\">\r\n          <a className=\"navbar-brand\" href=\"https://blockstack.org\">\r\n            <img src=\"white-logo.svg\" alt=\"\"/>\r\n          </a>\r\n          <div className=\"app_name\">Anonymous Chat</div>\r\n          { userSession.isUserSignedIn()?\r\n            <Account \r\n              value={person.name()}\r\n            />\r\n            : <div className=\"account\">请登录</div>\r\n          }\r\n        </nav>\r\n        <noscript>\r\n          You need to enable JavaScript to run this Blockstack app.\r\n        </noscript>\r\n      </div>\r\n    );\r\n  }\r\n}","import React, { Component } from 'react';\nimport Profile from './Profile.js';\nimport Signin from './Signin.js';\nimport Nav from './nav.js';\nimport {\n  UserSession,\n  AppConfig\n} from 'blockstack';\n\nconst appConfig = new AppConfig()\nconst userSession = new UserSession({ appConfig: appConfig })\n\nexport default class App extends Component {\n\n\n  handleSignIn(e) {\n    e.preventDefault();\n    userSession.redirectToSignIn();\n  }\n\n  handleSignOut(e) {\n    e.preventDefault();\n    userSession.signUserOut(window.location.origin);\n  }\n\n  renderNav(){\n    return(\n    <Nav\n      userSession={userSession}\n    />)\n  }\n\n  render() {\n    return (\n      <div>\n        <div>{this.renderNav()}</div>\n        <div className=\"site-wrapper\">\n          <div className=\"site-wrapper-inner\">\n            { !userSession.isUserSignedIn() ?\n              <Signin userSession={userSession} handleSignIn={ this.handleSignIn } />\n              : <Profile userSession={userSession} handleSignOut={ this.handleSignOut } />\n            }\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  componentDidMount() {\n    if (userSession.isSignInPending()) {\n      userSession.handlePendingSignIn().then((userData) => {\n        window.history.replaceState({}, document.title, \"/\")\n        this.setState({ userData: userData})\n      });\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App.js';\n\n// Require Sass file so webpack can build it\nimport 'bootstrap/dist/css/bootstrap.css';\nimport'./styles/style.css';\n\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'));"],"sourceRoot":""}